{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "labs::av_meshing::6.0", "icon": "alicevision.png", "tags": "sidefxlabs,  photogrammetry", "version": "6.0", "namespace": "labs"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Labs AV Meshing"], "extent": [0, 20]}, {"type": "summary", "indent": 0, "text": ["  Creates a dense geometric surface representation of the scene using Alicevision. "], "extent": [139, 230]}, {"type": "para", "indent": 0, "text": ["The objective of this step is to create a dense geometric surface representation of the scene. The output of this node is a high-poly mesh, which can be used for any further processing in Houdini."], "extent": [230, 428]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [428, 433], "body": [{"type": "para", "indent": 4, "text": ["You can provide a bounding box around the output point cloud of the ", {"type": "code", "text": ["AV Depth Map"]}, " node to isolate regions of the reconstructed scene to refine. Simply feed in a box (no other shape) into the second input."], "extent": [433, 644]}], "container": true}], "container": true, "role": "item_group"}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [644, 650], "body": [{"type": "para", "indent": 4, "text": ["Requires Meshroom/AliceVision version 2023.3.0. See ", {"scheme": null, "value": "https://alicevision.org/#meshroom", "type": "link", "text": ["https://alicevision.org/#meshroom"], "exists": true}, " for information on how to download."], "extent": [650, 813]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [813, 825], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Main"], "extent": [825, 840], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Cook"], "extent": [840, 850], "body": [{"type": "para", "indent": 8, "text": ["Start the cooking process for this step."], "extent": [850, 899]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Use Log"], "extent": [899, 912], "body": [{"type": "para", "indent": 8, "text": ["This toggle controls if the status of the current node should be printed to the console. This is useful for getting a quick overview of the progress."], "extent": [912, 1070]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Meshing"], "extent": [1070, 1088], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Max Input Points"], "extent": [1088, 1110], "body": [{"type": "para", "indent": 8, "text": ["Max input points loaded from depth map images."], "extent": [1110, 1165]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Max Points"], "extent": [1165, 1181], "body": [{"type": "para", "indent": 8, "text": ["Max points at the end of the depth maps fusion."], "extent": [1181, 1237]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Max Points per Voxel"], "extent": [1237, 1263], "body": [{"type": "para", "indent": 8, "text": ["Max points per voxel."], "extent": [1263, 1293]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Min Step"], "extent": [1293, 1307], "body": [{"type": "para", "indent": 8, "text": ["The step used to load depth values from depth maps is computed from maxInputPts. Here we define the minimal value for this step, so on small datasets we will not spend too much time at the beginning loading all depth values."], "extent": [1307, 1540]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Vertex Colors"], "extent": [1540, 1559], "body": [{"type": "para", "indent": 8, "text": ["Whether to colorize output dense point cloud and mesh."], "extent": [1559, 1622]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Partitioning"], "extent": [1622, 1640], "body": [{"type": "para", "indent": 8, "text": ["Enable Partitioning."], "extent": [1640, 1669]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Repartition"], "extent": [1669, 1686], "body": [{"type": "para", "indent": 8, "text": ["Enable Repartitioning."], "extent": [1686, 1717]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Angle Factor"], "extent": [1717, 1735], "body": [{"type": "para", "indent": 8, "text": ["AngleFactor."], "extent": [1735, 1756]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sim Factor"], "extent": [1756, 1772], "body": [{"type": "para", "indent": 8, "text": ["Sim Factor."], "extent": [1772, 1792]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["pixSizeMarginInitCoef"], "extent": [1792, 1819], "body": [{"type": "para", "indent": 8, "text": ["pixSizeMarginInitCoef."], "extent": [1819, 1850]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["pixSizeMarginFinalCoef"], "extent": [1850, 1878], "body": [{"type": "para", "indent": 8, "text": ["pixSizeMarginFinalCoef."], "extent": [1878, 1910]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["voteMarginFactor"], "extent": [1910, 1932], "body": [{"type": "para", "indent": 8, "text": ["voteMarginFactor."], "extent": [1932, 1958]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["contributeMarginFactor"], "extent": [1958, 1986], "body": [{"type": "para", "indent": 8, "text": ["contributeMarginFactor."], "extent": [1986, 2018]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["simGaussianSizeInit"], "extent": [2018, 2043], "body": [{"type": "para", "indent": 8, "text": ["simGaussianSizeInit."], "extent": [2043, 2072]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["simGaussianSize"], "extent": [2072, 2093], "body": [{"type": "para", "indent": 8, "text": ["simGaussianSize."], "extent": [2093, 2118]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["minAngleThreshold"], "extent": [2118, 2141], "body": [{"type": "para", "indent": 8, "text": ["minAngleThreshold."], "extent": [2141, 2168]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Refine Fuse"], "extent": [2168, 2185], "body": [{"type": "para", "indent": 8, "text": ["Refine depth map fusion with the new pixels size defined by angle and similarity scores."], "extent": [2185, 2282]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Estimate Space From SfM"], "extent": [2282, 2311], "body": [{"type": "para", "indent": 8, "text": ["Estimate the 3d space from the SfM."], "extent": [2311, 2355]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Min Observations For SfM Space Estimation"], "extent": [2355, 2402], "body": [{"type": "para", "indent": 8, "text": ["Minimum number of observations for SfM space estimation."], "extent": [2402, 2467]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Min Observations Angle For SfM Space Estimation"], "extent": [2467, 2520], "body": [{"type": "para", "indent": 8, "text": ["Minimum angle between two observations for SfM space estimation."], "extent": [2520, 2593]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Add Landmarks To The Dense Point Cloud"], "extent": [2593, 2637], "body": [{"type": "para", "indent": 8, "text": ["Add SfM Landmarks to the dense point cloud."], "extent": [2637, 2689]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Mesh Filter"], "extent": [2689, 2711], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Filter Large Triangles Factor"], "extent": [2711, 2746], "body": [{"type": "para", "indent": 8, "text": ["Remove all large triangles. We consider a triangle as large if one edge is bigger than N times the average edge length. Put zero to disable it."], "extent": [2746, 2898]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Keep Only the Largest Mesh"], "extent": [2898, 2930], "body": [{"type": "para", "indent": 8, "text": ["Keep only the largest connected triangles group."], "extent": [2930, 2987]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Num of Iterations"], "extent": [2987, 3010], "body": [{"type": "para", "indent": 8, "text": ["Number of smoothing iterations."], "extent": [3010, 3050]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Lambda"], "extent": [3050, 3062], "body": [{"type": "para", "indent": 8, "text": ["Lambda."], "extent": [3062, 3079]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Environment"], "extent": [3079, 3101], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Environment"], "extent": [3101, 3118], "body": [{"type": "para", "indent": 8, "text": ["The environment used for launching the AliceVision utilities command line. Note that this is a python expression and should be modified only through ", {"type": "q", "text": ["Edit Expression"]}, "."], "extent": [3118, 3295]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [3295, 3303], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["AV Depth Map"], "extent": [3303, 3317], "body": [{"type": "para", "indent": 4, "text": ["This should get the output of AV Depth Map."], "extent": [3317, 3365]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Bounding BOX"], "extent": [3365, 3379], "body": [{"type": "para", "indent": 4, "text": ["This can optionally receive a bounding box to refine the region that should be reconstructed. This is only allowed to be a transformed box, and nothing else."], "extent": [3379, 3542]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [3542, 3551], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["AV Depth Map"], "extent": [3551, 3565], "body": [{"type": "para", "indent": 4, "text": ["This plugs into AV Texturing, and holds the generated mesh."], "extent": [3565, 3629]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Pointcloud"], "extent": [3629, 3641], "body": [{"type": "para", "indent": 4, "text": ["This is the point cloud generated by the meshing step."], "extent": [3641, 3702]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "examples", "container": true, "type": "examples_section", "indent": 0, "role": "section", "extent": [3702, 3712], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": null, "value": "https://github.com/sideeffects/SideFXLabs/blob/Development/hip/examples/alicevision", "type": "link", "text": ["Example File"], "exists": true}], "extent": [3712, 3817]}], "container": true}], "text": "Examples"}], "title": ["Labs AV Meshing"], "summary": ["  Creates a dense geometric surface representation of the scene using Alicevision. "]}